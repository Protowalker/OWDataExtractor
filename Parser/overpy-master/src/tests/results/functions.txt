variables {
    global:
        0: A
        1: B
        2: C
        3: D
        4: E
        23: X
        24: Y
        25: Z
    player:
        1: B
}
rule ("function") {
    event {
        Ongoing - Global;
    }
    actions {
        Set Global Variable(A, Ray Cast Hit Player(Global.B, Global.C, Global.D, Global.E, True));
        Set Global Variable(A, Ray Cast Hit Position(Global.B, Global.C, Global.D, Global.E, False));
        Set Global Variable(A, Ray Cast Hit Normal(Global.B, Global.C, Global.D, Global.E, True));
        Set Global Variable(A, Subtract(Compare(-3, >, False), Compare(-3, <, False)));
        Chase Player Variable Over Time(Event Player, B, 9999, 3, Destination and Duration);
        Create HUD Text(All Players(All Teams), Custom String("test", Null, Null, Null), Null, Null, Left, True, Red, White, White, Visible To and String, Visible Always);
        Create HUD Text(All Players(All Teams), Null, Null, Custom String("test", Null, Null, Null), Left, True, White, White, Red, Visible To and String, Visible Always);
        Create HUD Text(All Players(All Teams), Null, Custom String("test", Null, Null, Null), Null, Left, True, White, Red, White, Visible To and String, Visible Always);
        Create HUD Text(Null, Custom String("azer", Null, Null, Null), Custom String("dqsf", Null, Null, Null), Custom String("fdsq", Null, Null, Null), Left, -1, Red, White, Yellow, Visible To Sort Order and String, Visible Never);
        Wait(0.016, Ignore Condition);
    }
}

rule ("beams") {
    event {
        Ongoing - Global;
    }
    actions {
        Create Beam Effect(Global.A, Grapple Beam, Global.B, Global.C, White, Visible To Position and Radius);
        Create Beam Effect(Global.A, Grapple Beam, Vector(Add(0.001, Global.A), Global.B, Global.C), Vector(Global.A, Global.D, Global.C), White, Visible To Position and Radius);
        Create Beam Effect(Global.A, Grapple Beam, Vector(Global.Z, Global.B, Global.C), Vector(Global.A, Global.D, Global.C), White, Visible To Position and Radius);
        Create Beam Effect(Global.A, Good Beam, Vector(Global.A, Global.B, Global.C), Vector(Global.A, Global.D, Global.C), White, Visible To Position and Radius);
        Create Beam Effect(Global.A, Good Beam, Vector(Global.A, Global.B, Global.C), Vector(Global.A, Global.D, Global.C), White, Visible To Position and Radius);
        Create Beam Effect(Global.A, Bad Beam, Vector(Add(0.001, Global.A), Global.B, Global.C), Vector(Global.A, Global.D, Global.C), White, Visible To Position and Radius);
        Create Beam Effect(Global.A, Bad Beam, Vector(Global.A, Global.B, Global.C), Vector(Global.A, Global.D, Global.Z), White, Visible To Position and Radius);
    }
}

rule ("vectors") {
    event {
        Ongoing - Global;
    }
    actions {
        Set Global Variable(A, Vector(Global.B, Global.C, Global.D));
        Set Global Variable(A, X Component Of(Global.B));
        "B"
        Set Global Variable(A, Global.B);
        "C"
        Set Global Variable(A, Global.C);
        "D"
        Set Global Variable(A, Global.D);
        "Vector.UP"
        Set Global Variable(A, Vector(False, True, False));
    }
}

rule ("optimizations with literals") {
    event {
        Ongoing - Global;
    }
    actions {
        "4"
        Modify Global Variable(A, Append To Array, 4);
        "3"
        Modify Global Variable(A, Append To Array, 3);
        "4"
        Modify Global Variable(A, Append To Array, 4);
        "3"
        Modify Global Variable(A, Append To Array, 3);
        "5"
        Modify Global Variable(A, Append To Array, Absolute Value(-5));
        "1.012"
        Modify Global Variable(A, Append To Array, 1.012195761452095);
        "3.1415"
        Modify Global Variable(A, Append To Array, 3.141592653589793);
        "113.633"
        Modify Global Variable(A, Append To Array, 113.57817847820183);
        "-0.302"
        Modify Global Variable(A, Append To Array, -0.304692654015397);
        "36.865"
        Modify Global Variable(A, Append To Array, 36.86989764584402);
        "1.584"
        Modify Global Variable(A, Append To Array, 1.583839065425504);
        "140.057"
        Modify Global Variable(A, Append To Array, 140.05724853255916);
        "0.996"
        Modify Global Variable(A, Append To Array, 0.996090498505521);
        "-0.934"
        Modify Global Variable(A, Append To Array, -0.933580426497201);
        "vect(3951, -3165, -6406)"
        Modify Global Variable(A, Append To Array, Vector(3951, -3165, -6406));
        "vect(-0.182, 0.273, 0.945)"
        Modify Global Variable(A, Append To Array, Vector(-0.182127177225397, 0.273190765838096, 0.944561536786621));
        "1014.740"
        Modify Global Variable(A, Append To Array, 1014.7403608805555);
        "43498"
        Modify Global Variable(A, Append To Array, 43498);
        "Team 2"
        Modify Global Variable(A, Append To Array, Team 2);
        "Team 1"
        Modify Global Variable(A, Append To Array, Team 1);
        "All Teams"
        Modify Global Variable(A, Append To Array, All Teams);
        "0"
        Modify Global Variable(A, Append To Array, Null);
        "3"
        Modify Global Variable(A, Append To Array, 3);
        "32"
        Modify Global Variable(A, Append To Array, 32);
        "-31"
        Modify Global Variable(A, Append To Array, -31);
        "vect(-0.017, 0.433, 0.901)"
        Modify Global Variable(A, Append To Array, Vector(-0.017380968387966, 0.433187212130861, 0.901136361037656));
        "0.704"
        Modify Global Variable(A, Append To Array, 0.703595051234721);
        "-0.218"
        Modify Global Variable(A, Append To Array, -0.218143241396542);
        "0"
        Modify Global Variable(A, Append To Array, Null);
        "9.656"
        Modify Global Variable(A, Append To Array, 9.655568341635826);
        "1.364"
        Modify Global Variable(A, Append To Array, 1.363873635438722);
        "-36.648"
        Modify Global Variable(A, Append To Array, -36.64847484990379);
        "vect(342, -88, 68)"
        Modify Global Variable(A, Append To Array, Vector(342, -88, 68));
    }
}

rule ("optimizations for function combinations") {
    event {
        Ongoing - Global;
    }
    actions {
        "directionTowards(x, y)"
        Set Global Variable(A, Direction Towards(Global.X, Global.Y));
        "is dead(B)"
        Set Global Variable(A, Is Dead(Global.B));
        "is alive(B)"
        Set Global Variable(A, Is Alive(Global.B));
        "getPlayersOnHero(C, B)"
        Set Global Variable(A, Players On Hero(Global.C, Global.B));
        "getPlayersOnObjective(B)"
        Set Global Variable(A, All Players On Objective(Global.B));
        "getPlayersNotOnObjective(B)"
        Set Global Variable(A, All Players Not On Objective(Global.B));
        "getLivingPlayers(B)"
        Set Global Variable(A, All Living Players(Global.B));
        "getDeadPlayers(B)"
        Set Global Variable(A, All Dead Players(Global.B));
        "getNumberOfPlayers(B)"
        Set Global Variable(A, Number of Players(Global.B));
        "getNumberOfPlayersOnObjective(B)"
        Set Global Variable(A, Number of Players On Objective(Global.B));
        "getNumberOfHeroes(B, C)"
        Set Global Variable(A, Number of Heroes(Global.B, Global.C));
        "getNumberOfLivingPlayers(B)"
        Set Global Variable(A, Number of Living Players(Global.B));
        "getNumberOfDeadPlayers(B)"
        Set Global Variable(A, Number of Dead Players(Global.B));
    }
}

